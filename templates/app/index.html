{% extends 'base.html' %}

{% block content %}
{% load static %}
{% load boost %}
<head>
    <link rel="stylesheet" href="{% static '/css/indexstyle.css' %}">
    <title>ã‚µã‚¤ãƒˆ</title>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-left">
                <h1>ã„ã¤ã‹ã¯ãƒã‚¿ãƒ</h1>
            </div>
        </div>
        <div class="header-right">
            <div>
                {% if request.user.is_anonymous %}
                    ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã¾ã›ã‚“
                {% else %}
                    ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã§ã™
                {% endif %}
            </div>
            {% if user.is_authenticated %}
                <a href="{% url 'logout' %}" class="link-secondary">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã¯ã“ã¡ã‚‰</a>
                <a href="{% url 'Settings' %}" class="link-secondary">è¨­å®šã¯ã“ã¡ã‚‰</a>
            {% else %}
                <a href="{% url 'registration' %}" class="link-secondary">æ–°è¦ç™»éŒ²ã¯ã“ã¡ã‚‰</a>
                <a href="{% url 'login' %}" class="link-secondary">ãƒ­ã‚°ã‚¤ãƒ³ã¯ã“ã¡ã‚‰</a>
            {% endif %}
        </div>
    </header>
    <div class="first-haikei">
        <div class="first-toka">
            <nav class="navbar-nav ml-auto mr-auto">
                <form class="form-inline" action="{% url 'search' %}" method="get">
                    <input class="form-control mr-sm-2" type="text" placeholder="è¬›ç¾©å" aria-label="Search" name="ç§‘ç›®å">
                    <button class="btn btn-outline-primary my-2 my-sm-0" type="submit" name="search" value="æ¤œç´¢">æ¤œç´¢</button>
                </form>
            </nav>
        </div>
    </div>
ã€€  <div class="second-rank">
        <h2>ğŸ‘‘ã¿ã‚“ãªã®ãŠæ°—ã«å…¥ã‚Šè¬›ç¾©ğŸ‘‘</h2>
        <div class="card-deck">
            {% for RankInfo, Rank in RankingInfo|zip:ranking %}
              <div class="card" style="width: 18rem;">
                  <div class="card-body">
                    <h5 class="card-title">{{RankInfo.ç§‘ç›®å}}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">{{RankInfo.æ‹…å½“è€…æ°å}}</h6>
                    <p class="card-text"><small class="text-muted">{{RankInfo.å…¨é–‹è¬›å¯¾è±¡å­¦ç§‘}}</small></p>
                    <p class="card-text"><small class="text-muted">ç™»éŒ²æ•° {{Rank.count}}</small></p>
                    <a href="/database/{{RankInfo.è¬›ç¾©id}}" class="card-link">link</a>
                  </div>
              </div>
            {% endfor %}
        </div>
    </div>
        {% if user.is_authenticated %}
    <div class="second-rank">
        <h2>ğŸ“–ã‚ãªãŸã®ãŠæ°—ã«å…¥ã‚Šè¬›ç¾©ğŸ“–</h2>
        <div class="card-deck">
            {% for class in obj %}
                <div class="card" style="width: 18rem;">
                    <div class="card-body">
                        <h5 class="card-title">{{class.ç§‘ç›®å}}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">{{class.æ‹…å½“è€…æ°å}}</h6>
                        <p class="card-text"><small class="text-muted">{{class.å…¨é–‹è¬›å¯¾è±¡å­¦ç§‘}}</small></p>
                        <a href="/database/{{class.è¬›ç¾©id}}" class="card-link">link</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
</body>

{% endblock %}